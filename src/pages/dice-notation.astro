---
import Layout from '../layouts/Layout.astro'
import SectionContainer from '../components/ui/SectionContainer.astro'
import MainContent from '../components/MainContent.astro'
import SecondaryButton from '../components/ui/SecondaryButton.astro'

// Create sidebar content for the Layout component with nested structure
const sidebarContent = {
  title: 'Table of Contents',
  links: [
    { href: '#overview', text: 'Overview' },
    { href: '#basic-syntax', text: 'Basic Syntax' },
    { href: '#standard-rolls', text: 'Standard Rolls' },
    { href: '#custom-faces', text: 'Custom-Faced Dice' },
    {
      href: '#modifiers',
      text: 'Modifiers',
      sublinks: [
        { href: '#arithmetic', text: 'Basic Arithmetic (+/-)' },
        { href: '#cap-modifiers', text: 'Cap Modifiers (C)' },
        { href: '#drop-modifiers', text: 'Drop Modifiers (L/H/D)' },
        { href: '#reroll-modifiers', text: 'Reroll Modifiers (R)' },
        { href: '#replace-modifiers', text: 'Replace Modifiers (V)' },
        { href: '#unique-results', text: 'Unique Results (U)' },
        { href: '#exploding-dice', text: 'Exploding Dice (!)' }
      ]
    },
    { href: '#complex-combinations', text: 'Complex Combinations' },
    { href: '#gaming-applications', text: 'Gaming Applications' },
    { href: '#common-examples', text: 'Common Examples' }
  ]
}
---

<script>
  // Smooth scrolling for anchor links
  document.addEventListener('DOMContentLoaded', function () {
    const links = document.querySelectorAll('a[href^="#"]')
    links.forEach((link) => {
      link.addEventListener('click', function (e: Event) {
        e.preventDefault()
        const target = e.target as HTMLAnchorElement
        const targetId = target.getAttribute('href')?.substring(1)
        const targetElement = targetId
          ? document.getElementById(targetId)
          : null
        if (targetElement) {
          targetElement.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          })
        }
      })
    })
  })
</script>

<Layout
  title="Dice Notation - RANDSUM"
  description="Complete guide to RANDSUM dice notation syntax and modifiers"
  sidebarContent={sidebarContent}
>
  <SectionContainer>
    <MainContent class="max-w-4xl">
      <!-- Header -->
      <div class="mb-12">
        <h1 class="text-4xl font-bold text-silver-50 mb-4">
          RANDSUM Dice Notation
        </h1>
        <p class="text-xl text-silver-300 leading-relaxed">
          A comprehensive guide to RANDSUM's powerful dice notation syntax and
          modifiers
        </p>
      </div>

      <!-- Overview -->
      <section id="overview" class="mb-12 scroll-mt-8">
        <h2 class="text-2xl font-bold text-silver-50 mb-6">Overview</h2>
        <div class="prose prose-invert max-w-none">
          <p class="text-silver-300 leading-relaxed mb-4">
            Dice notation is a compact way to represent dice rolls and their
            modifications. For example, <code
              class="bg-randsum-800 px-2 py-1 rounded text-silver-100"
              >4d20+2</code
            >
            means "roll four twenty-sided dice, then add two".
          </p>
          <p class="text-silver-300 leading-relaxed mb-4">
            RANDSUM extends standard dice notation with powerful modifiers like
            dropping lowest rolls, rerolling specific values, ensuring unique
            results, and much more. This makes it perfect for tabletop RPGs,
            board games, and any application requiring sophisticated dice
            mechanics.
          </p>
          <p class="text-silver-300 leading-relaxed">
            The notation system is inspired by <a
              href="https://sophiehoulden.com/dice/documentation/notation.html"
              class="text-silver-100 hover:text-silver-50 underline"
              target="_blank"
              rel="noopener">Sophie's Dice</a
            >
            and extends traditional dice notation with modern gaming needs in mind.
          </p>
        </div>
      </section>

      <!-- Basic Syntax -->
      <section id="basic-syntax" class="mb-12 scroll-mt-8">
        <h2 class="text-2xl font-bold text-silver-50 mb-6">Basic Syntax</h2>
        <div class="bg-randsum-800 p-4 rounded-lg mb-6">
          <p class="text-silver-300">
            All notation in RANDSUM is case-insensitive (<code
              class="text-silver-100">2d8</code
            > = <code class="text-silver-100">2D8</code>).
          </p>
        </div>
      </section>

      <!-- Standard Rolls -->
      <section id="standard-rolls" class="mb-12 scroll-mt-8">
        <h2 class="text-2xl font-bold text-silver-50 mb-6">Standard Rolls</h2>
        <p class="text-silver-300 mb-4">
          The basic format is <code
            class="bg-randsum-800 px-2 py-1 rounded text-silver-100">NdS</code
          >
          where N is the number of dice and S is the number of sides.
        </p>
        <div class="bg-randsum-950 rounded-lg p-4 mb-6">
          <pre class="text-silver-100 overflow-x-auto"><code class="language-typescript">// Roll one d20
roll(20) // number argument
roll("1d20") // notation string
roll({ sides: 20, quantity: 1 })

// Roll four d6
roll("4d6")
roll({ sides: 6, quantity: 4 })</code></pre>
        </div>
      </section>

      <!-- Custom-Faced Dice -->
      <section id="custom-faces" class="mb-12 scroll-mt-8">
        <h2 class="text-2xl font-bold text-silver-50 mb-6">
          Custom-Faced Dice
        </h2>
        <p class="text-silver-300 mb-4">
          Roll dice with non-numeric faces using the <code
            class="bg-randsum-800 px-2 py-1 rounded text-silver-100"
            >d&#123;faces&#125;</code
          > syntax:
        </p>
        <div class="bg-randsum-950 rounded-lg p-4 mb-4">
          <pre class="text-silver-100 overflow-x-auto"><code class="language-typescript">// Roll a coin (heads/tails) four times
import { rollCustomFaces } from "@RANDSUM/ROLLER"
rollCustomFaces("4d{HT}")
rollCustomFaces({ sides: ["H", "T"], quantity: 4 })

// Roll Fudge/Fate dice
rollCustomFaces("4d{++-- }") // Plus, minus, blank faces
rollCustomFaces({ sides: ["+", "+", "-", "-", " ", " "], quantity: 4 })</code></pre>
        </div>
        <div class="bg-amber-900/20 border border-amber-600/30 rounded-lg p-4">
          <p class="text-amber-200">
            <strong>Note:</strong> Custom-faced dice ignore modifiers and always
            return a total of 0. Each face must be a single character in notation
            strings.
          </p>
        </div>
      </section>

      <!-- Modifiers -->
      <section id="modifiers" class="mb-12 scroll-mt-8">
        <h2 class="text-2xl font-bold text-silver-50 mb-6">Modifiers</h2>
        <p class="text-silver-300 mb-6">
          RANDSUM supports powerful modifiers that can be combined to create
          sophisticated dice mechanics. Modifiers are applied in a specific
          order and can be chained together for complex behaviors.
        </p>
      </section>

      <!-- Basic Arithmetic -->
      <section id="arithmetic" class="mb-8 scroll-mt-8 ml-6">
        <h3 class="text-xl font-bold text-silver-50 mb-4">
          Basic Arithmetic (+/-)
        </h3>
        <p class="text-silver-300 mb-4">
          Add or subtract fixed values from the total result:
        </p>
        <div class="bg-randsum-950 rounded-lg p-4 mb-6">
          <pre class="text-silver-100 overflow-x-auto"><code class="language-typescript">roll("4d6+2") // Add 2 to total
roll({ sides: 6, quantity: 4, modifiers: { plus: 2 } })

roll("4d6-1") // Subtract 1 from total
roll({ sides: 6, quantity: 4, modifiers: { minus: 1 } })</code></pre>
        </div>
      </section>

      <!-- Cap Modifiers -->
      <section id="cap-modifiers" class="mb-8 scroll-mt-8 ml-6">
        <h3 class="text-xl font-bold text-silver-50 mb-4">Cap Modifiers (C)</h3>
        <p class="text-silver-300 mb-4">
          Limit roll values to specific ranges:
        </p>
        <CodeBlock background="darker" class="mb-6">
          <span class="text-games-fifth-500">roll</span><span
            class="text-silver-300">(</span
          ><span class="text-games-daggerheart-500"
            >"4d20C&#123;&gt;18&#125;"</span
          ><span class="text-silver-300">)</span>
          <span class="text-silver-400">// Cap rolls over 18 to 18</span><br />
          <span class="text-games-fifth-500">roll</span><span
            class="text-silver-300"
            >(&#123; sides:
          </span><span class="text-games-blades-500">20</span><span
            class="text-silver-300"
            >, quantity:
          </span><span class="text-games-blades-500">4</span><span
            class="text-silver-300"
            >, modifiers: &#123; cap: &#123; greaterThan:
          </span><span class="text-games-blades-500">18</span><span
            class="text-silver-300"
          >
            &#125; &#125; &#125;)</span
          ><br />
          <br />
          <span class="text-games-fifth-500">roll</span><span
            class="text-silver-300">(</span
          ><span class="text-games-daggerheart-500"
            >"4d20C&#123;&lt;3&#125;"</span
          ><span class="text-silver-300">)</span>
          <span class="text-silver-400">// Cap rolls under 3 to 3</span><br />
          <span class="text-games-fifth-500">roll</span><span
            class="text-silver-300"
            >(&#123; sides:
          </span><span class="text-games-blades-500">20</span><span
            class="text-silver-300"
            >, quantity:
          </span><span class="text-games-blades-500">4</span><span
            class="text-silver-300"
            >, modifiers: &#123; cap: &#123; lessThan:
          </span><span class="text-games-blades-500">3</span><span
            class="text-silver-300"
          >
            &#125; &#125; &#125;)</span
          ><br />
          <br />
          <span class="text-games-fifth-500">roll</span><span
            class="text-silver-300">(</span
          ><span class="text-games-daggerheart-500"
            >"4d20C&#123;&lt;2,&gt;19&#125;"</span
          ><span class="text-silver-300">)</span>
          <span class="text-silver-400"
            >// Cap rolls under 2 to 2 and over 19 to 19</span
          ><br />
          <span class="text-games-fifth-500">roll</span><span
            class="text-silver-300"
            >(&#123; sides:
          </span><span class="text-games-blades-500">20</span><span
            class="text-silver-300"
            >, quantity:
          </span><span class="text-games-blades-500">4</span><span
            class="text-silver-300"
            >, modifiers: &#123; cap: &#123; greaterThan:
          </span><span class="text-games-blades-500">19</span><span
            class="text-silver-300"
            >, lessThan:
          </span><span class="text-games-blades-500">2</span><span
            class="text-silver-300"
          >
            &#125; &#125; &#125;)</span
          >
        </CodeBlock>
      </section>

      <!-- Drop Modifiers -->
      <section id="drop-modifiers" class="mb-8 scroll-mt-8 ml-6">
        <h3 class="text-xl font-bold text-silver-50 mb-4">
          Drop Modifiers (L/H/D)
        </h3>
        <p class="text-silver-300 mb-4">Drop specific dice from the results:</p>
        <CodeBlock background="darker" class="mb-6">
          <span class="text-games-fifth-500">roll</span><span
            class="text-silver-300">(</span
          ><span class="text-games-daggerheart-500">"4d6L"</span><span
            class="text-silver-300">)</span
          >
          <span class="text-silver-400">// Drop lowest</span><br />
          <span class="text-games-fifth-500">roll</span><span
            class="text-silver-300"
            >(&#123; sides:
          </span><span class="text-games-blades-500">6</span><span
            class="text-silver-300"
            >, quantity:
          </span><span class="text-games-blades-500">4</span><span
            class="text-silver-300"
            >, modifiers: &#123; drop: &#123; lowest:
          </span><span class="text-games-blades-500">1</span><span
            class="text-silver-300"
          >
            &#125; &#125; &#125;)</span
          ><br />
          <br />
          <span class="text-games-fifth-500">roll</span><span
            class="text-silver-300">(</span
          ><span class="text-games-daggerheart-500">"4d6L2"</span><span
            class="text-silver-300">)</span
          >
          <span class="text-silver-400">// Drop 2 lowest</span><br />
          <span class="text-games-fifth-500">roll</span><span
            class="text-silver-300"
            >(&#123; sides:
          </span><span class="text-games-blades-500">6</span><span
            class="text-silver-300"
            >, quantity:
          </span><span class="text-games-blades-500">4</span><span
            class="text-silver-300"
            >, modifiers: &#123; drop: &#123; lowest:
          </span><span class="text-games-blades-500">2</span><span
            class="text-silver-300"
          >
            &#125; &#125; &#125;)</span
          ><br />
          <br />
          <span class="text-games-fifth-500">roll</span><span
            class="text-silver-300">(</span
          ><span class="text-games-daggerheart-500">"4d6H"</span><span
            class="text-silver-300">)</span
          >
          <span class="text-silver-400">// Drop highest</span><br />
          <span class="text-games-fifth-500">roll</span><span
            class="text-silver-300"
            >(&#123; sides:
          </span><span class="text-games-blades-500">6</span><span
            class="text-silver-300"
            >, quantity:
          </span><span class="text-games-blades-500">4</span><span
            class="text-silver-300"
            >, modifiers: &#123; drop: &#123; highest:
          </span><span class="text-games-blades-500">1</span><span
            class="text-silver-300"
          >
            &#125; &#125; &#125;)</span
          ><br />
          <br />
          <span class="text-silver-400">// Drop by value</span><br />
          <span class="text-games-fifth-500">roll</span><span
            class="text-silver-300">(</span
          ><span class="text-games-daggerheart-500"
            >"4d20D&#123;&gt;17&#125;"</span
          ><span class="text-silver-300">)</span>
          <span class="text-silver-400">// Drop rolls over 17</span><br />
          <span class="text-games-fifth-500">roll</span><span
            class="text-silver-300"
            >(&#123; sides:
          </span><span class="text-games-blades-500">20</span><span
            class="text-silver-300"
            >, quantity:
          </span><span class="text-games-blades-500">4</span><span
            class="text-silver-300"
            >, modifiers: &#123; drop: &#123; greaterThan:
          </span><span class="text-games-blades-500">17</span><span
            class="text-silver-300"
          >
            &#125; &#125; &#125;)</span
          ><br />
          <br />
          <span class="text-games-fifth-500">roll</span><span
            class="text-silver-300">(</span
          ><span class="text-games-daggerheart-500"
            >"4d20D&#123;&lt;5&#125;"</span
          ><span class="text-silver-300">)</span>
          <span class="text-silver-400">// Drop rolls under 5</span><br />
          <span class="text-games-fifth-500">roll</span><span
            class="text-silver-300"
            >(&#123; sides:
          </span><span class="text-games-blades-500">20</span><span
            class="text-silver-300"
            >, quantity:
          </span><span class="text-games-blades-500">4</span><span
            class="text-silver-300"
            >, modifiers: &#123; drop: &#123; lessThan:
          </span><span class="text-games-blades-500">5</span><span
            class="text-silver-300"
          >
            &#125; &#125; &#125;)</span
          ><br />
          <br />
          <span class="text-games-fifth-500">roll</span><span
            class="text-silver-300">(</span
          ><span class="text-games-daggerheart-500"
            >"4d20D&#123;8,12&#125;"</span
          ><span class="text-silver-300">)</span>
          <span class="text-silver-400">// Drop 8s and 12s</span><br />
          <span class="text-games-fifth-500">roll</span><span
            class="text-silver-300"
            >(&#123; sides:
          </span><span class="text-games-blades-500">20</span><span
            class="text-silver-300"
            >, quantity:
          </span><span class="text-games-blades-500">4</span><span
            class="text-silver-300"
            >, modifiers: &#123; drop: &#123; exact: [</span
          ><span class="text-games-blades-500">8</span><span
            class="text-silver-300"
            >,
          </span><span class="text-games-blades-500">12</span><span
            class="text-silver-300">] &#125; &#125; &#125;)</span
          >
        </CodeBlock>
      </section>

      <!-- Reroll Modifiers -->
      <section id="reroll-modifiers" class="mb-8 scroll-mt-8 ml-6">
        <h3 class="text-xl font-bold text-silver-50 mb-4">
          Reroll Modifiers (R)
        </h3>
        <p class="text-silver-300 mb-4">
          Reroll dice matching certain conditions:
        </p>
        <CodeBlock background="darker" class="mb-6">
          <span class="text-games-fifth-500">roll</span><span
            class="text-silver-300">(</span
          ><span class="text-games-daggerheart-500"
            >"4d20R&#123;&gt;17&#125;"</span
          ><span class="text-silver-300">)</span>
          <span class="text-silver-400">// Reroll results over 17</span><br />
          <span class="text-games-fifth-500">roll</span><span
            class="text-silver-300"
            >(&#123; sides:
          </span><span class="text-games-blades-500">20</span><span
            class="text-silver-300"
            >, quantity:
          </span><span class="text-games-blades-500">4</span><span
            class="text-silver-300"
            >, modifiers: &#123; reroll: &#123; greaterThan:
          </span><span class="text-games-blades-500">17</span><span
            class="text-silver-300"
          >
            &#125; &#125; &#125;)</span
          ><br />
          <br />
          <span class="text-games-fifth-500">roll</span><span
            class="text-silver-300">(</span
          ><span class="text-games-daggerheart-500"
            >"4d20R&#123;&lt;5&#125;"</span
          ><span class="text-silver-300">)</span>
          <span class="text-silver-400">// Reroll results under 5</span><br />
          <span class="text-games-fifth-500">roll</span><span
            class="text-silver-300"
            >(&#123; sides:
          </span><span class="text-games-blades-500">20</span><span
            class="text-silver-300"
            >, quantity:
          </span><span class="text-games-blades-500">4</span><span
            class="text-silver-300"
            >, modifiers: &#123; reroll: &#123; lessThan:
          </span><span class="text-games-blades-500">5</span><span
            class="text-silver-300"
          >
            &#125; &#125; &#125;)</span
          ><br />
          <br />
          <span class="text-games-fifth-500">roll</span><span
            class="text-silver-300">(</span
          ><span class="text-games-daggerheart-500"
            >"4d20R&#123;8,12&#125;"</span
          ><span class="text-silver-300">)</span>
          <span class="text-silver-400">// Reroll 8s and 12s</span><br />
          <span class="text-games-fifth-500">roll</span><span
            class="text-silver-300"
            >(&#123; sides:
          </span><span class="text-games-blades-500">20</span><span
            class="text-silver-300"
            >, quantity:
          </span><span class="text-games-blades-500">4</span><span
            class="text-silver-300"
            >, modifiers: &#123; reroll: &#123; exact: [</span
          ><span class="text-games-blades-500">8</span><span
            class="text-silver-300"
            >,
          </span><span class="text-games-blades-500">12</span><span
            class="text-silver-300">] &#125; &#125; &#125;)</span
          ><br />
          <br />
          <span class="text-games-fifth-500">roll</span><span
            class="text-silver-300">(</span
          ><span class="text-games-daggerheart-500"
            >"4d20R&#123;&lt;5&#125;3"</span
          ><span class="text-silver-300">)</span>
          <span class="text-silver-400">// Reroll under 5, max 3 attempts</span
          ><br />
          <span class="text-games-fifth-500">roll</span><span
            class="text-silver-300"
            >(&#123; sides:
          </span><span class="text-games-blades-500">20</span><span
            class="text-silver-300"
            >, quantity:
          </span><span class="text-games-blades-500">4</span><span
            class="text-silver-300"
            >, modifiers: &#123; reroll: &#123; lessThan:
          </span><span class="text-games-blades-500">5</span><span
            class="text-silver-300"
            >, max:
          </span><span class="text-games-blades-500">3</span><span
            class="text-silver-300"
          >
            &#125; &#125; &#125;)</span
          >
        </CodeBlock>
      </section>

      <!-- Exploding Dice -->
      <section id="exploding-dice" class="mb-8 scroll-mt-8 ml-6">
        <h3 class="text-xl font-bold text-silver-50 mb-4">
          Exploding Dice (!)
        </h3>
        <p class="text-silver-300 mb-4">
          Roll additional dice on maximum results:
        </p>
        <CodeBlock background="darker" class="mb-6">
          <span class="text-games-fifth-500">roll</span><span
            class="text-silver-300">(</span
          ><span class="text-games-daggerheart-500">"4d20!"</span><span
            class="text-silver-300">)</span
          >
          <span class="text-silver-400"
            >// Roll an extra d20 for each 20 rolled</span
          ><br />
          <span class="text-games-fifth-500">roll</span><span
            class="text-silver-300"
            >(&#123; sides:
          </span><span class="text-games-blades-500">20</span><span
            class="text-silver-300"
            >, quantity:
          </span><span class="text-games-blades-500">4</span><span
            class="text-silver-300"
            >, modifiers: &#123; explode:
          </span><span class="text-games-blades-500">true</span><span
            class="text-silver-300"
          >
            &#125; &#125;)</span
          >
        </CodeBlock>
      </section>

      <!-- Replace Modifiers -->
      <section id="replace-modifiers" class="mb-8 scroll-mt-8 ml-6">
        <h3 class="text-xl font-bold text-silver-50 mb-4">
          Replace Modifiers (V)
        </h3>
        <p class="text-silver-300 mb-4">
          Replace specific results with new values:
        </p>
        <CodeBlock background="darker" class="mb-6">
          <span class="text-games-fifth-500">roll</span><span
            class="text-silver-300">(</span
          ><span class="text-games-daggerheart-500"
            >"4d20V&#123;8=12&#125;"</span
          ><span class="text-silver-300">)</span>
          <span class="text-silver-400">// Replace 8s with 12s</span><br />
          <span class="text-games-fifth-500">roll</span><span
            class="text-silver-300"
            >(&#123; sides:
          </span><span class="text-games-blades-500">20</span><span
            class="text-silver-300"
            >, quantity:
          </span><span class="text-games-blades-500">4</span><span
            class="text-silver-300"
            >, modifiers: &#123; replace: &#123; from:
          </span><span class="text-games-blades-500">8</span><span
            class="text-silver-300"
            >, to:
          </span><span class="text-games-blades-500">12</span><span
            class="text-silver-300"
          >
            &#125; &#125; &#125;)</span
          ><br />
          <br />
          <span class="text-games-fifth-500">roll</span><span
            class="text-silver-300">(</span
          ><span class="text-games-daggerheart-500"
            >"4d20V&#123;&gt;17=20&#125;"</span
          ><span class="text-silver-300">)</span>
          <span class="text-silver-400">// Replace results over 17 with 20</span
          ><br />
          <span class="text-games-fifth-500">roll</span><span
            class="text-silver-300"
            >(&#123; sides:
          </span><span class="text-games-blades-500">20</span><span
            class="text-silver-300"
            >, quantity:
          </span><span class="text-games-blades-500">4</span><span
            class="text-silver-300"
            >, modifiers: &#123; replace: &#123; from: &#123; greaterThan:
          </span><span class="text-games-blades-500">17</span><span
            class="text-silver-300"
          >
            &#125;, to:
          </span><span class="text-games-blades-500">20</span><span
            class="text-silver-300"
          >
            &#125; &#125; &#125;)</span
          ><br />
          <br />
          <span class="text-games-fifth-500">roll</span><span
            class="text-silver-300">(</span
          ><span class="text-games-daggerheart-500"
            >"4d20V&#123;&lt;5=1&#125;"</span
          ><span class="text-silver-300">)</span>
          <span class="text-silver-400">// Replace results under 5 with 1</span
          ><br />
          <span class="text-games-fifth-500">roll</span><span
            class="text-silver-300"
            >(&#123; sides:
          </span><span class="text-games-blades-500">20</span><span
            class="text-silver-300"
            >, quantity:
          </span><span class="text-games-blades-500">4</span><span
            class="text-silver-300"
            >, modifiers: &#123; replace: &#123; from: &#123; lessThan:
          </span><span class="text-games-blades-500">5</span><span
            class="text-silver-300"
          >
            &#125;, to:
          </span><span class="text-games-blades-500">1</span><span
            class="text-silver-300"
          >
            &#125; &#125; &#125;)</span
          >
        </CodeBlock>
      </section>

      <!-- Unique Results -->
      <section id="unique-results" class="mb-8 scroll-mt-8 ml-6">
        <h3 class="text-xl font-bold text-silver-50 mb-4">
          Unique Results (U)
        </h3>
        <p class="text-silver-300 mb-4">Force unique rolls within a pool:</p>
        <CodeBlock background="darker" class="mb-6">
          <span class="text-games-fifth-500">roll</span><span
            class="text-silver-300">(</span
          ><span class="text-games-daggerheart-500">"4d20U"</span><span
            class="text-silver-300">)</span
          >
          <span class="text-silver-400">// All results must be unique</span><br
          />
          <span class="text-games-fifth-500">roll</span><span
            class="text-silver-300"
            >(&#123; sides:
          </span><span class="text-games-blades-500">20</span><span
            class="text-silver-300"
            >, quantity:
          </span><span class="text-games-blades-500">4</span><span
            class="text-silver-300"
            >, modifiers: &#123; unique:
          </span><span class="text-games-blades-500">true</span><span
            class="text-silver-300"
          >
            &#125; &#125;)</span
          ><br />
          <br />
          <span class="text-games-fifth-500">roll</span><span
            class="text-silver-300">(</span
          ><span class="text-games-daggerheart-500"
            >"4d20U&#123;5,10&#125;"</span
          ><span class="text-silver-300">)</span>
          <span class="text-silver-400"
            >// Unique except 5s and 10s can repeat</span
          ><br />
          <span class="text-games-fifth-500">roll</span><span
            class="text-silver-300"
            >(&#123; sides:
          </span><span class="text-games-blades-500">20</span><span
            class="text-silver-300"
            >, quantity:
          </span><span class="text-games-blades-500">4</span><span
            class="text-silver-300"
            >, modifiers: &#123; unique: &#123; notUnique: [</span
          ><span class="text-games-blades-500">5</span><span
            class="text-silver-300"
            >,
          </span><span class="text-games-blades-500">10</span><span
            class="text-silver-300">] &#125; &#125; &#125;)</span
          >
        </CodeBlock>
      </section>

      <!-- Complex Combinations -->
      <section id="complex-combinations" class="mb-12 scroll-mt-8">
        <h2 class="text-2xl font-bold text-silver-50 mb-6">
          Complex Combinations
        </h2>
        <p class="text-silver-300 mb-4">
          Combine multiple modifiers for sophisticated dice mechanics:
        </p>
        <CodeBlock background="darker" class="mb-6">
          // Multiple modifiers roll('4d6L+2') // Drop lowest, add 2
          roll('2d20H!+1') // Drop highest, explode, add 1
          roll('4d6R&#123;&lt;3&#125;L') // Reroll under 3, then drop lowest
          roll('4d6LR&#123;1&#125;!+3') // Drop lowest, reroll 1s, exploding, +3
          // Complex D&D mechanics roll('4d6LR&#123;1&#125;') // Ability scores:
          drop lowest, reroll 1s roll('2d20HC&#123;&gt;20&#125;+5') // Advantage
          with nat 20 cap, +5 modifier
        </CodeBlock>
        <div
          class="bg-purple-900/20 border border-purple-600/30 rounded-lg p-4"
        >
          <p class="text-purple-200">
            <strong>Order Matters:</strong> Modifiers are applied in a specific order.
            Generally: Rerolls → Drops → Caps → Exploding → Arithmetic
          </p>
        </div>
      </section>

      <!-- Gaming Applications -->
      <section id="gaming-applications" class="mb-12 scroll-mt-8">
        <h2 class="text-2xl font-bold text-silver-50 mb-6">
          Gaming Applications
        </h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
          <div class="bg-randsum-800 rounded-lg p-6">
            <h3 class="text-lg font-semibold text-silver-50 mb-3">
              D&D 5th Edition
            </h3>
            <ul class="space-y-2 text-silver-300 text-sm">
              <li>
                <code class="text-silver-100">4d6L</code> - Ability scores
              </li>
              <li>
                <code class="text-silver-100">2d20H</code> - Advantage
              </li>
              <li>
                <code class="text-silver-100">2d20L</code> - Disadvantage
              </li>
              <li>
                <code class="text-silver-100">1d20+5</code> - Skill check
              </li>
              <li>
                <code class="text-silver-100">2d8+3</code> - Critical hit damage
              </li>
            </ul>
          </div>
          <div class="bg-randsum-800 rounded-lg p-6">
            <h3 class="text-lg font-semibold text-silver-50 mb-3">
              Pathfinder
            </h3>
            <ul class="space-y-2 text-silver-300 text-sm">
              <li>
                <code class="text-silver-100">4d6L</code> - Ability scores
              </li>
              <li>
                <code class="text-silver-100">1d20!</code> - Exploding crits
              </li>
              <li>
                <code class="text-silver-100">3d6R&#123;1&#125;</code> - Reroll 1s
              </li>
            </ul>
          </div>
          <div class="bg-randsum-800 rounded-lg p-6">
            <h3 class="text-lg font-semibold text-silver-50 mb-3">
              Savage Worlds
            </h3>
            <ul class="space-y-2 text-silver-300 text-sm">
              <li>
                <code class="text-silver-100">1d6!</code> - Exploding dice
              </li>
              <li><code class="text-silver-100">1d8!</code> - Trait die</li>
              <li>
                <code class="text-silver-100">1d6!+1d6!</code> - Wild die
              </li>
            </ul>
          </div>
          <div class="bg-randsum-800 rounded-lg p-6">
            <h3 class="text-lg font-semibold text-silver-50 mb-3">
              Custom Games
            </h3>
            <ul class="space-y-2 text-silver-300 text-sm">
              <li>
                <code class="text-silver-100">5d6U</code> - Unique results
              </li>
              <li>
                <code class="text-silver-100">3d&#123;ABC&#125;</code> - Custom faces
              </li>
              <li>
                <code class="text-silver-100">4d10C&#123;&gt;8&#125;</code> - Capped
                results
              </li>
            </ul>
          </div>
        </div>
      </section>

      <!-- Common Examples -->
      <section id="common-examples" class="mb-12 scroll-mt-8">
        <h2 class="text-2xl font-bold text-silver-50 mb-6">Common Examples</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div class="bg-randsum-800 rounded-lg p-6">
            <h4 class="text-lg font-semibold text-silver-50 mb-3">
              D&D Ability Scores
            </h4>
            <code class="text-silver-100">4d6L</code>
            <p class="text-silver-300 text-sm mt-2">Roll 4d6, drop lowest</p>
          </div>
          <div class="bg-randsum-800 rounded-lg p-6">
            <h4 class="text-lg font-semibold text-silver-50 mb-3">
              D&D Advantage
            </h4>
            <code class="text-silver-100">2d20H</code>
            <p class="text-silver-300 text-sm mt-2">Roll 2d20, keep highest</p>
          </div>
          <div class="bg-randsum-800 rounded-lg p-6">
            <h4 class="text-lg font-semibold text-silver-50 mb-3">
              Damage + Modifier
            </h4>
            <code class="text-silver-100">1d8+3</code>
            <p class="text-silver-300 text-sm mt-2">Roll 1d8, add 3</p>
          </div>
          <div class="bg-randsum-800 rounded-lg p-6">
            <h4 class="text-lg font-semibold text-silver-50 mb-3">
              Exploding Damage
            </h4>
            <code class="text-silver-100">2d6!</code>
            <p class="text-silver-300 text-sm mt-2">Roll 2d6, explode on 6s</p>
          </div>
          <div class="bg-randsum-800 rounded-lg p-6">
            <h4 class="text-lg font-semibold text-silver-50 mb-3">
              Reliable Rolls
            </h4>
            <code class="text-silver-100">4d6R&#123;1,2&#125;</code>
            <p class="text-silver-300 text-sm mt-2">Reroll 1s and 2s</p>
          </div>
          <div class="bg-randsum-800 rounded-lg p-6">
            <h4 class="text-lg font-semibold text-silver-50 mb-3">
              Coin Flips
            </h4>
            <code class="text-silver-100">4d&#123;HT&#125;</code>
            <p class="text-silver-300 text-sm mt-2">Roll 4 coins</p>
          </div>
        </div>
      </section>

      <!-- Navigation -->
      <div
        class="flex justify-between items-center pt-8 border-t border-randsum-700"
      >
        <SecondaryButton href="/" class="flex items-center">
          ← Back to Home
        </SecondaryButton>
        <SecondaryButton href="/roller" class="flex items-center">
          Explore Roller Package →
        </SecondaryButton>
      </div>
    </MainContent>
  </SectionContainer>
</Layout>
